{"version":3,"sources":["store/dispatcher.ts","store/UserStore.ts","store/actions/userActions.ts","viewModels/UserWithErrorMessage.ts","components/navbar.component.tsx","components/map.component.tsx","components/home.component.tsx","components/register-user.component.tsx","components/login-user.component.tsx","components/contact.component.tsx","App.tsx","index.tsx"],"names":["Dispatcher","userStore","user","this","emit","action","type","setUser","EventEmitter","register","handleActions","bind","dispatcher","dispatch","User","username","pins","NavBar","props","clearUsername","state","localStorage","removeItem","setState","UserActions","on","name","getUser","undefined","className","to","style","color","onClick","React","Component","Map","popover","pin","Popover","id","Title","as","Content","lat","toFixed","long","getItem","description","handleUpdateShow","marginTop","marginRight","handleDeleteShow","handleShareShow","updateViewport","viewport","prevState","resize","height","window","innerHeight","width","innerWidth","convertMarkers","markers","slice","forEach","push","OverlayTrigger","rootClose","trigger","placement","overlay","latitude","longitude","offsetLeft","offsetTop","currentPin","src","alt","removeMarkers","addPin","event","newPin","lngLat","axios","post","deleteMarker","arr","filter","marker","children","handleUpdateClose","handleDeleteClose","handleShareAllClose","handleShareAllShow","onNewDescriptionChange","updatePin","deletePin","sharePin","shareAll","handleShareClose","zoom","showUpdateModal","showDeleteModal","showShareModal","showShareAll","newDescription","recipientUsername","userNotFound","value","addEventListener","get","then","response","data","removeEventListener","updatedPin","newPinList","p","MySwal","withReactContent","Swal","fire","result","error","includes","catch","err","console","log","mapboxApiAccessToken","process","onViewportChange","v","Modal","show","onHide","Header","closeButton","Body","placeholder","onChange","e","target","Footer","Button","variant","onRecipientUsernameChange","fontWeight","paddingTop","Home","getUserFromLocalStorage","RegisterUser","onChangeUsername","onChangePassword","onSubmit","password","redirect","usernameError","preventDefault","setItem","marginLeft","required","length","paddingBottom","LoginUser","users","wrongUsername","wrongPassword","pathname","ContactUs","onChangeFirstName","onChangeLastName","onChangeEmail","onChangeMessage","firstName","lastName","email","message","status","method","url","buttonText","htmlFor","App","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4451bf63.chunk.js","sourcesContent":["import { Dispatcher } from \"flux\";\r\n\r\nexport default new Dispatcher;","import { EventEmitter } from 'events';\r\nimport { User } from '../viewModels/UserWithErrorMessage';\r\nimport Dispatcher from './dispatcher';\r\n\r\nclass UserStore extends EventEmitter {\r\n    user: User | null = null;\r\n     constructor(){\r\n         super();\r\n     }\r\n\r\n     setUser(user: User | null){\r\n        this.user = user;\r\n\r\n        this.emit(\"change\");\r\n     }\r\n\r\n     getUser(){\r\n         return this.user;\r\n     }\r\n\r\n     //not type safe\r\n     handleActions(action: any){\r\n        switch(action.type){\r\n            case \"SET_USER\": {\r\n                this.setUser(action.user);\r\n            }\r\n        }\r\n     }\r\n}\r\n\r\nconst userStore = new UserStore;\r\nDispatcher.register(userStore.handleActions.bind(userStore));\r\n\r\nexport default userStore;\r\n","import { User } from \"../../viewModels/UserWithErrorMessage\";\r\nimport dispatcher from \"../dispatcher\";\r\n\r\nexport function setUser(user: User) {\r\n    dispatcher.dispatch({\r\n        type: \"SET_USER\",\r\n        user,\r\n    });\r\n}","import Pin from './Pin'\r\n\r\nexport class UserWithErrorMessage{\r\n    user: User | null = null;\r\n    error: string = \"\";\r\n}\r\n\r\nexport class User {\r\n    username: string = \"\";\r\n    pins: Array<Pin> = []\r\n}","import React, { Component } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport userStore from '../store/UserStore';\r\nimport * as UserActions from '../store/actions/userActions';\r\nimport { User } from '../viewModels/UserWithErrorMessage';\r\n\r\ninterface IProps {\r\n\r\n}\r\n\r\n// defines the type of the state\r\ninterface NavState {\r\n    username: string;\r\n}\r\n\r\nexport default class NavBar extends React.Component<IProps, NavState> {\r\n    constructor(props: IProps) {\r\n        super(props);\r\n        this.clearUsername = this.clearUsername.bind(this);\r\n        this.state = {\r\n            username: '',\r\n        }\r\n    }\r\n\r\n    clearUsername(){\r\n        localStorage.removeItem(\"user\");\r\n        this.setState({\r\n            username: \"\"\r\n        });\r\n        var user = new User();\r\n        user.username = '';\r\n        UserActions.setUser(user);\r\n    }\r\n\r\n    componentDidMount() {\r\n        // this.setState({\r\n        //     username: localStorage.getItem(\"user\")+''\r\n        // })\r\n        userStore.on(\"change\", () => {\r\n            var name = userStore.getUser()?.username;\r\n            if (name == undefined) {\r\n                name = '';\r\n            }\r\n            this.setState({\r\n                username: name\r\n            })\r\n        });\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <nav className=\"container topnav navbar navbar-dark bg-dark navbar-expand-lg\">\r\n                <NavLink to=\"/\" className=\"main_title navbar-brand\">MapPin</NavLink>\r\n                <div className=\"collpase navbar-collapse\">\r\n                {this.state.username == '' &&\r\n                    <ul className=\"navbar-nav ml-auto\">\r\n                        <li className=\"navbar-item\">\r\n                            <NavLink style={{color: 'white'}} to=\"/contact\" className=\"nav-link\">Contact Us </NavLink>\r\n                        </li>\r\n                        <li className=\"navbar-item\">\r\n                            <NavLink style={{color: 'white'}} to=\"/register\" className=\"nav-link\">Register</NavLink>\r\n                        </li>\r\n                        <li className=\"navbar-item\">\r\n                            <NavLink style={{color: 'white'}} to=\"/login\" className=\"nav-link\">Log-In</NavLink>\r\n                        </li>\r\n                    </ul>\r\n                }\r\n                {this.state.username != '' &&\r\n                    <ul className=\"navbar-nav ml-auto\">\r\n                        <li className=\"navbar-item\">\r\n                            <NavLink style={{color: 'white'}} to=\"/\" className=\"nav-link\">Map </NavLink>\r\n                        </li>\r\n                        <li className=\"navbar-item\">\r\n                            <NavLink style={{color: 'white'}} to=\"/contact\" className=\"nav-link\">Contact Us </NavLink>\r\n                        </li>\r\n                        <li className=\"navbar-item\">\r\n                            <NavLink style={{color: 'white'}} to=\"/login\" className=\"nav-link\" onClick={this.clearUsername}> Logout {this.state.username}</NavLink>\r\n                        </li>\r\n                    </ul>\r\n                }\r\n                    \r\n                </div>\r\n            </nav>\r\n        );\r\n    }\r\n}","import axios from 'axios';\r\nimport * as React from 'react';\r\nimport { Button, Modal, OverlayTrigger, Popover } from 'react-bootstrap';\r\nimport ReactMapGL, { NavigationControl, Marker, MapEvent } from 'react-map-gl';\r\nimport Pin from '../viewModels/Pin';\r\nimport 'mapbox-gl/dist/mapbox-gl.css';\r\nimport Swal from 'sweetalert2'\r\nimport withReactContent from 'sweetalert2-react-content'\r\nimport mapboxgl from 'mapbox-gl';\r\nimport { UserWithErrorMessage } from '../viewModels/UserWithErrorMessage';\r\n\r\ninterface IProps {\r\n\r\n}\r\n\r\ninterface Viewport {\r\n    height: number,\r\n    latitude: number,\r\n    longitude: number,\r\n    width: number,\r\n    zoom: number,\r\n}\r\n\r\ninterface MapState {\r\n    viewport: Viewport\r\n    pins: Pin[],\r\n    markers: any[],\r\n    showUpdateModal: boolean,\r\n    showDeleteModal: boolean,\r\n    showShareModal: boolean,\r\n    showShareAll: boolean,\r\n    newDescription: string,\r\n    recipientUsername: string,\r\n    currentPin: Pin | null,\r\n    userNotFound: string\r\n}\r\n\r\nconst MAPBOX_TOKEN = process.env.REACT_APP_MAPBOX_TOKEN || '';\r\n\r\nexport default class Map extends React.Component<IProps, MapState> {\r\n    constructor(props: IProps) {\r\n        super(props);\r\n        \r\n        this.handleUpdateShow = this.handleUpdateShow.bind(this);\r\n        this.handleUpdateClose = this.handleUpdateClose.bind(this);\r\n        this.handleDeleteShow = this.handleDeleteShow.bind(this);\r\n        this.handleDeleteClose = this.handleDeleteClose.bind(this);\r\n        this.handleShareAllClose = this.handleShareAllClose.bind(this);\r\n        this.handleShareAllShow = this.handleShareAllShow.bind(this);\r\n        this.onNewDescriptionChange = this.onNewDescriptionChange.bind(this);\r\n        this.updatePin = this.updatePin.bind(this);\r\n        this.deletePin = this.deletePin.bind(this);\r\n        this.sharePin = this.sharePin.bind(this);\r\n        this.shareAll = this.shareAll.bind(this);\r\n        this.handleShareShow = this.handleShareShow.bind(this);\r\n        this.handleShareClose = this.handleShareClose.bind(this);\r\n    \r\n        this.state = {\r\n            viewport: {\r\n                height: 400,\r\n                latitude: 39.4018552,\r\n                longitude: -76.602388,\r\n                width: 400,\r\n                zoom: 14,\r\n            },\r\n            pins: [],\r\n            markers: [],\r\n            showUpdateModal: false,\r\n            showDeleteModal: false,\r\n            showShareModal: false,\r\n            showShareAll: false,\r\n            newDescription: \"\",\r\n            currentPin: null,\r\n            recipientUsername: \"\",\r\n            userNotFound: \"\"\r\n        }\r\n    }\r\n\r\n    popover = (pin: Pin) => (\r\n        <Popover id=\"popover-basic\">\r\n          <Popover.Title as=\"h3\">Details</Popover.Title>\r\n          <Popover.Content>\r\n            Latitude: {pin.lat.toFixed(4)}\r\n            <br />\r\n            Longitude: {pin.long.toFixed(4)}\r\n            <br />\r\n            Current User: {localStorage.getItem(\"user\")}\r\n            <br />\r\n            <span>Description: {pin.description}</span>\r\n            <br />\r\n            <button className=\"btn btn-danger\" onClick={this.handleUpdateShow} style={{marginTop: \"10px\", marginRight: \"10px\"}} type=\"button\">Update</button>\r\n            <button className=\"btn btn-danger\" onClick={this.handleDeleteShow} style={{marginTop: \"10px\", marginRight: \"10px\"}} type=\"button\">Delete</button>\r\n            <button className=\"btn btn-danger\" onClick={this.handleShareShow} style={{marginTop: \"10px\", marginRight: \"10px\"}} type=\"button\">Share</button>\r\n          </Popover.Content>\r\n        </Popover>\r\n    );\r\n\r\n    handleUpdateShow(){\r\n        this.setState({\r\n            showUpdateModal: true,\r\n        });\r\n    }\r\n    handleUpdateClose(){\r\n        this.setState({\r\n            showUpdateModal: false\r\n        });\r\n    }\r\n    handleDeleteShow(){\r\n        this.setState({\r\n            showDeleteModal: true,\r\n        });\r\n    }\r\n    handleDeleteClose(){\r\n        this.setState({\r\n            showDeleteModal: false\r\n        });\r\n    }\r\n    handleShareShow(){\r\n        this.setState({\r\n            showShareModal: true,\r\n        });\r\n    }\r\n    handleShareClose(){\r\n        this.setState({\r\n            showShareModal: false\r\n        });\r\n    }\r\n    handleShareAllShow(){\r\n        this.setState({\r\n            showShareAll: true,\r\n        });\r\n    }\r\n    handleShareAllClose(){\r\n        this.setState({\r\n            showShareAll: false\r\n        });\r\n    }\r\n\r\n    onNewDescriptionChange(value: string){\r\n        this.setState({\r\n            newDescription: value\r\n        })\r\n    }\r\n    onRecipientUsernameChange(value: string){\r\n        this.setState({\r\n            recipientUsername: value\r\n        })\r\n    }\r\n\r\n    public componentDidMount() {\r\n        var path=\"\";\r\n        if(process.env.NODE_ENV === \"development\"){ path = \"http://localhost:5000\"}\r\n        window.addEventListener('resize', this.resize);\r\n        this.resize();\r\n        axios.get(path+'/users/username/' + localStorage.getItem(\"user\"))\r\n            .then(response => {\r\n                this.setState({\r\n                    pins: response.data.pins\r\n                })\r\n                this.convertMarkers();\r\n            })\r\n    }\r\n\r\n    public componentWillUnmount() {\r\n        window.removeEventListener('resize', this.resize);\r\n    }\r\n\r\n    public updateViewport = (viewport: Viewport) => {\r\n        this.setState(prevState => ({\r\n            viewport: { ...prevState.viewport, ...viewport },\r\n        }));\r\n    };\r\n\r\n    public resize = () => {\r\n        this.setState(prevState => ({\r\n            viewport: {\r\n                ...prevState.viewport,\r\n                height: window.innerHeight,\r\n                width: window.innerWidth,\r\n            },\r\n        }));\r\n    };\r\n\r\n    public convertMarkers = () => {\r\n        const markers = this.state.markers.slice();\r\n        this.state.pins.forEach(\r\n            (pin: Pin) => markers.push(\r\n                <OverlayTrigger rootClose trigger=\"click\" placement=\"bottom\" overlay={this.popover(pin)}>\r\n                    <Marker latitude={pin.lat} longitude={pin.long} offsetLeft={-20} offsetTop={-10}>\r\n                        <img onClick={() => this.setState({ currentPin: pin})} className=\"imageHover\" src=\"/assets/pin.jpg\" alt=\"Here\" style={{width: 35, height: 35}}/>\r\n                    </Marker>\r\n                </OverlayTrigger>\r\n            ))\r\n        this.setState({\r\n            markers: markers\r\n        })\r\n    }\r\n\r\n    public removeMarkers = () => {\r\n        var markers: any[] = [];\r\n        this.state.pins.forEach(\r\n            (pin: Pin) => markers.push(\r\n                <OverlayTrigger rootClose trigger=\"click\" placement=\"bottom\" overlay={this.popover(pin)}>\r\n                    <Marker latitude={pin.lat} longitude={pin.long} offsetLeft={-20} offsetTop={-10}>\r\n                        <img onClick={() => this.setState({ currentPin: pin})} className=\"imageHover\" src=\"/assets/pin.jpg\" alt=\"Here\" style={{width: 35, height: 35}}/>\r\n                    </Marker>\r\n                </OverlayTrigger>\r\n            ))\r\n        this.setState({\r\n            markers: markers\r\n        })\r\n    }\r\n\r\n    public addPin = (event: MapEvent) => {\r\n        var path=\"\";\r\n        if(process.env.NODE_ENV === \"development\"){ path = \"http://localhost:5000\"}\r\n        const pins = this.state.pins.slice();\r\n        var newPin: Pin = {\r\n            name: `lng${event.lngLat[0]}`,\r\n            lat: event.lngLat[1],\r\n            long: event.lngLat[0],\r\n            description: 'Edit me!'\r\n        }\r\n        pins.push(newPin)\r\n        axios.post(path+'/users/update/username/' + localStorage.getItem(\"user\"), \r\n            {\r\n                username: localStorage.getItem(\"user\"),\r\n                pins: pins\r\n            })\r\n        this.setState({\r\n            pins: pins\r\n            })\r\n        this.convertMarkers();\r\n    }\r\n\r\n    public deleteMarker = (arr: number[]) => {\r\n        this.setState( prevState => ({\r\n            markers: prevState.markers.filter(marker => marker.props.children.props.longitude !== arr[0] && marker.props.children.props.latitude !== arr[1])\r\n        }))\r\n    }\r\n\r\n    updatePin(){\r\n        var path=\"\";\r\n        if(process.env.NODE_ENV === \"development\"){ path = \"http://localhost:5000\"}\r\n        if(this.state.currentPin != undefined){\r\n            var updatedPin: Pin = {\r\n                description: this.state.newDescription,\r\n                lat: this.state.currentPin.lat,\r\n                long: this.state.currentPin.long,\r\n                name: 'temporary'\r\n            }\r\n            var newPinList: Pin[] = this.state.pins.filter(p => p.lat !== updatedPin.lat && p.long !== updatedPin.long);\r\n            newPinList.push(updatedPin);\r\n            const MySwal = withReactContent(Swal)\r\n            axios.post(path+'/users/update/username/' + localStorage.getItem(\"user\"), \r\n            {\r\n                username: localStorage.getItem(\"user\"),\r\n                pins: newPinList\r\n            }).then((response) => {\r\n                this.setState({\r\n                    pins: newPinList\r\n                })\r\n                this.convertMarkers();\r\n                this.handleUpdateClose();\r\n                this.setState({\r\n                    currentPin: null,\r\n                    newDescription: \"\"\r\n                })\r\n                return MySwal.fire(<p>Pin Updated!</p>,<span><div>Your pin description has been updated to:</div><b>{updatedPin.description}</b></span>, \"success\");\r\n            });\r\n        }\r\n    }\r\n\r\n    deletePin(){\r\n        var path=\"\";\r\n        if(process.env.NODE_ENV === \"development\"){ path = \"http://localhost:5000\"}\r\n        if(this.state.currentPin != undefined){\r\n            var updatedPin: Pin = {\r\n                description: this.state.currentPin.description,\r\n                lat: this.state.currentPin.lat,\r\n                long: this.state.currentPin.long,\r\n                name: 'temporary'\r\n            }\r\n            var newPinList: Pin[] = this.state.pins.filter(p => p.lat !== updatedPin.lat && p.long !== updatedPin.long);\r\n            const MySwal = withReactContent(Swal)\r\n            axios.post(path+'/users/update/username/' + localStorage.getItem(\"user\"), \r\n            {\r\n                username: localStorage.getItem(\"user\"),\r\n                pins: newPinList\r\n            }).then((response) => {\r\n                this.setState({\r\n                    pins: newPinList\r\n                })\r\n                this.handleDeleteClose();\r\n                this.setState({\r\n                    currentPin: null,\r\n                    newDescription: \"\"\r\n                });\r\n                this.removeMarkers();\r\n                return MySwal.fire(<p>Pin Deleted!</p>,<span><div>Your pin has successfully been deleted!</div></span>, \"success\");\r\n            });\r\n        }\r\n    }\r\n\r\n    sharePin(){\r\n        var path=\"\";\r\n        if(process.env.NODE_ENV === \"development\"){ path = \"http://localhost:5000\"}\r\n        if(this.state.currentPin != undefined){\r\n            var sharedPin: Pin = {\r\n                description: this.state.currentPin.description,\r\n                lat: this.state.currentPin.lat,\r\n                long: this.state.currentPin.long,\r\n                name: 'SharedPin'\r\n            }\r\n            var newPinList: Pin[] = [sharedPin];\r\n            const MySwal = withReactContent(Swal)\r\n            axios.post<UserWithErrorMessage>(path+'/users/share/username/' + this.state.recipientUsername, \r\n            {\r\n                username: this.state.recipientUsername,\r\n                pins: newPinList\r\n            }).then((result) => {\r\n                if(result.data.error !== \"\"){\r\n                    if(result.data.error.includes(\"Username\")){\r\n                        this.setState({\r\n                            userNotFound: \"User was not found\"\r\n                        });\r\n                        return;\r\n                    }\r\n                    return MySwal.fire(<p>Uh Oh!</p>,<span>There was an unexpected error! Contact the MapPin team!</span>, \"error\");\r\n                }\r\n                else if(result.data.user === null){\r\n                    return MySwal.fire(<p>Error Occured!</p>,<span>User was not found</span>, \"error\");\r\n                }\r\n                else{\r\n                    this.handleShareClose();\r\n                    this.setState({\r\n                        currentPin: null,\r\n                        recipientUsername: \"\",\r\n                        userNotFound: \"\"\r\n                    })\r\n                    return MySwal.fire(<p>Pin Shared!</p>,<span><div>Your pin was successfully shared!</div></span>, \"success\");\r\n                }\r\n            }).catch(err => console.log(err));\r\n        }\r\n    }\r\n\r\n    shareAll(){\r\n        var path=\"\";\r\n        if(process.env.NODE_ENV === \"development\"){ path = \"http://localhost:5000\"}\r\n            const MySwal = withReactContent(Swal)\r\n            axios.post<UserWithErrorMessage>(path+'/users/share/username/' + this.state.recipientUsername, \r\n            {\r\n                username: this.state.recipientUsername,\r\n                pins: this.state.pins\r\n            }).then((result) => {\r\n                if(result.data.error !== \"\"){\r\n                    if(result.data.error.includes(\"Username\")){\r\n                        this.setState({\r\n                            userNotFound: \"User was not found\"\r\n                        });\r\n                        return;\r\n                    }\r\n                    return MySwal.fire(<p>Uh Oh!</p>,<span>There was an unexpected error! Contact the MapPin team!</span>, \"error\");\r\n                }\r\n                else if(result.data.user === null){\r\n                    return MySwal.fire(<p>Error Occured!</p>,<span>User was not found</span>, \"error\");\r\n                }\r\n                else{\r\n                    this.handleShareAllClose();\r\n                    this.setState({\r\n                        currentPin: null,\r\n                        recipientUsername: \"\",\r\n                        userNotFound: \"\"\r\n                    })\r\n                    return MySwal.fire(<p>Pin Shared!</p>,<span><div>Your pin was successfully shared!</div></span>, \"success\");\r\n                }\r\n            }).catch(err => console.log(err));\r\n    }\r\n\r\n    public render() {\r\n        const { viewport } = this.state;\r\n         return (\r\n             <span>\r\n                 <div style={{width: \"95%\"}}>\r\n                    <div className=\"d-flex justify-content-end\">\r\n                        <button className=\"btn btn-danger\" onClick={this.handleShareAllShow} type=\"button\">Share All</button>\r\n                    </div>\r\n                 </div>\r\n                <ReactMapGL\r\n                        {...viewport}\r\n                        className=\"map-size\"\r\n                        mapboxApiAccessToken={MAPBOX_TOKEN}\r\n                        onViewportChange={(v: Viewport) => this.updateViewport(v)}\r\n                        onClick={(event: MapEvent) => this.addPin(event)}\r\n                    >\r\n                        {this.state.markers}\r\n                        <div>\r\n                            <NavigationControl onViewportChange={this.updateViewport} />\r\n                        </div>\r\n                    </ReactMapGL>\r\n\r\n                    <Modal show={this.state.showUpdateModal} onHide={this.handleUpdateClose}>\r\n                        <Modal.Header closeButton>\r\n                            <Modal.Title>Update Pin Information</Modal.Title>\r\n                        </Modal.Header>\r\n                        <Modal.Body>\r\n                            <div>Update the description of your pin:</div>\r\n                            <input type=\"text\"\r\n                                   placeholder={this.state.currentPin?.description}\r\n                                   value={this.state.newDescription}\r\n                                   onChange={e => this.onNewDescriptionChange(e.target.value)}></input>\r\n                        </Modal.Body>\r\n                        <Modal.Footer>\r\n                            <Button variant=\"secondary\" onClick={this.handleUpdateClose}>\r\n                                Close\r\n                            </Button>\r\n                            <Button variant=\"primary\" onClick={this.updatePin}>\r\n                                Save Changes\r\n                            </Button>\r\n                        </Modal.Footer>\r\n                    </Modal>\r\n\r\n                    <Modal show={this.state.showDeleteModal} onHide={this.handleDeleteClose}>\r\n                        <Modal.Header closeButton>\r\n                            <Modal.Title>Delete Pin</Modal.Title>\r\n                        </Modal.Header>\r\n                        <Modal.Body>\r\n                            <b>Are you sure you want to delete this pin?</b>\r\n                        </Modal.Body>\r\n                        <Modal.Footer>\r\n                            <Button variant=\"secondary\" onClick={this.handleDeleteClose}>\r\n                                Close\r\n                            </Button>\r\n                            <Button variant=\"danger\" onClick={this.deletePin}>\r\n                                Delete\r\n                            </Button>\r\n                        </Modal.Footer>\r\n                    </Modal>\r\n\r\n                    <Modal show={this.state.showShareModal} onHide={this.handleShareClose}>\r\n                        <Modal.Header closeButton>\r\n                            <Modal.Title>Share Pin</Modal.Title>\r\n                        </Modal.Header>\r\n                        <Modal.Body>\r\n                            <div>Enter the recipient's username:</div>\r\n                            <input type=\"text\"\r\n                                   placeholder={\"Recipient's username\"}\r\n                                   value={this.state.recipientUsername}\r\n                                   onChange={e => this.onRecipientUsernameChange(e.target.value)}></input>\r\n                            <div style={{color: 'red', fontWeight: 'bold', paddingTop: '0px'}}>\r\n                                {this.state.userNotFound}\r\n                            </div>\r\n                        </Modal.Body>\r\n                        <Modal.Footer>\r\n                            <Button variant=\"secondary\" onClick={this.handleShareClose}>\r\n                                Close\r\n                            </Button>\r\n                            <Button variant=\"primary\" onClick={this.sharePin}>\r\n                                Share\r\n                            </Button>\r\n                        </Modal.Footer>\r\n                    </Modal>\r\n\r\n                    <Modal show={this.state.showShareAll} onHide={this.handleShareAllClose}>\r\n                        <Modal.Header closeButton>\r\n                            <Modal.Title>Share Pins</Modal.Title>\r\n                        </Modal.Header>\r\n                        <Modal.Body>\r\n                            <div>Enter the recipient's username:</div>\r\n                            <input type=\"text\"\r\n                                   placeholder={\"Recipient's username\"}\r\n                                   value={this.state.recipientUsername}\r\n                                   onChange={e => this.onRecipientUsernameChange(e.target.value)}></input>\r\n                            <div style={{color: 'red', fontWeight: 'bold', paddingTop: '0px'}}>\r\n                                {this.state.userNotFound}\r\n                            </div>\r\n                        </Modal.Body>\r\n                        <Modal.Footer>\r\n                            <Button variant=\"secondary\" onClick={this.handleShareAllClose}>\r\n                                Close\r\n                            </Button>\r\n                            <Button variant=\"primary\" onClick={this.shareAll}>\r\n                                Share All\r\n                            </Button>\r\n                        </Modal.Footer>\r\n                    </Modal>\r\n            </span>\r\n            );\r\n        }\r\n    }","import React, { Component } from 'react';\r\nimport Map from './map.component';\r\nimport EditPin from './edit-pin.component';\r\nimport { Redirect } from 'react-router-dom';\r\nimport userStore from '../store/UserStore';\r\nimport * as UserActions from '../store/actions/userActions';\r\nimport axios from 'axios';\r\nimport { User } from '../viewModels/UserWithErrorMessage';\r\n\r\ninterface IProps {\r\n\r\n}\r\n\r\n// defines the type of the state\r\ninterface HomeState {\r\n    username: string | undefined;\r\n}\r\n\r\nexport default class Home extends React.Component<IProps, HomeState> {\r\n    constructor(props: IProps) {\r\n        super(props);\r\n        this.state = {\r\n            username: userStore.getUser()?.username\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        userStore.on(\"change\", () => {\r\n            let name = userStore.getUser()?.username;\r\n            if (name == undefined) {\r\n                this.setState({\r\n                    username: ''\r\n                });\r\n            }\r\n            else{\r\n                this.setState({\r\n                    username: name\r\n                });\r\n            }\r\n            \r\n        });\r\n    }\r\n\r\n    getUserFromLocalStorage(username: string){\r\n        var path=\"\";\r\n        if(process.env.NODE_ENV === \"development\"){ path = \"http://localhost:5000\"}\r\n        axios.get<User>(`${path}/users/username/${username}`)\r\n            .then(result => {\r\n                UserActions.setUser(result.data);\r\n            })\r\n        .catch(err => console.log(err));\r\n    }\r\n\r\n    render(){\r\n        if ((this.state.username == \"\" \r\n        || this.state.username == undefined \r\n        || this.state.username == null)\r\n        && localStorage.getItem(\"user\") == null) {\r\n            return (\r\n                <Redirect push to='/register' />\r\n            );\r\n        }\r\n        else {\r\n            var username = localStorage.getItem(\"user\");\r\n            if(username != null && userStore.getUser() == null){\r\n                this.getUserFromLocalStorage(username);\r\n            }\r\n            return (\r\n                <div id=\"mapbox\" className=\"text-center\">\r\n                        <Map></Map>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}","import React, { Component, TextareaHTMLAttributes } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { UserWithErrorMessage } from '../viewModels/UserWithErrorMessage';\r\nimport Swal from 'sweetalert2'\r\nimport withReactContent from 'sweetalert2-react-content'\r\nimport * as UserActions from '../store/actions/userActions';\r\n\r\n// defines the type of the props, if any. could also pass in {}\r\ninterface IProps {\r\n\r\n}\r\n\r\n// defines the type of the state\r\ninterface RegisterState {\r\n    username: string;\r\n    password: string;\r\n    redirect: boolean;\r\n    usernameError: string;\r\n}\r\n\r\nclass RegisterUser extends React.Component<IProps, RegisterState> {\r\n    constructor(props: IProps) {\r\n        super(props);\r\n\r\n        this.onChangeUsername = this.onChangeUsername.bind(this);\r\n        this.onChangePassword = this.onChangePassword.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    \r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            redirect: false,\r\n            usernameError: ''\r\n        }\r\n    }\r\n\r\n    onChangeUsername(event: React.FormEvent<HTMLInputElement>) {\r\n        const target = event.target as HTMLInputElement;\r\n        this.setState({\r\n            username: target.value\r\n        });\r\n    }\r\n\r\n    onChangePassword(event: React.FormEvent<HTMLInputElement>) {\r\n        const target = event.target as HTMLInputElement;\r\n        this.setState({\r\n            password: target.value\r\n        });\r\n    }\r\n\r\n    onSubmit(event: React.FormEvent){\r\n        var path=\"\";\r\n        if(process.env.NODE_ENV === \"development\"){ path = \"http://localhost:5000\"}\r\n        event.preventDefault();\r\n        this.setState({\r\n            usernameError: ''\r\n        })\r\n        const MySwal = withReactContent(Swal);\r\n        const user = { \r\n            username: this.state.username, \r\n            password: this.state.password \r\n        }\r\n        try{\r\n            axios.post<UserWithErrorMessage>(path+'/users/add', user)\r\n            .then(result => {\r\n                if(result.data.error !== \"\"){\r\n                    if(result.data.error.includes(\"username is taken\")){\r\n                        this.setState({usernameError: result.data.error});\r\n                    }\r\n                    else {\r\n                        return MySwal.fire(<p>Login Failed</p>,<span>{result.data.error}</span>, \"error\");\r\n                    }\r\n                }\r\n                else if(result.data.user === null){\r\n                    return MySwal.fire(<p>Registration Failed</p>,<span>unexpected error occured</span>, \"error\");\r\n                }\r\n                else{\r\n                    UserActions.setUser(result.data.user);\r\n                    localStorage.setItem('user', result.data.user.username);\r\n                    this.setState({\r\n                        redirect: true\r\n                    });\r\n                }\r\n            })\r\n            .catch(err => console.log(err));\r\n        }\r\n        catch (err){\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"container\" style={{marginLeft: 'auto', marginRight: 'auto', width: '30%'}}>\r\n                { this.state.redirect ? (<Redirect push to='/'/>) : null }\r\n                <h3>Create Account</h3>\r\n                <form onSubmit={this.onSubmit}>\r\n                <div className=\"form-group\"> \r\n                    <label>Username: </label>\r\n                    <input  type=\"text\"\r\n                        style={{width: '90%'}}\r\n                        required\r\n                        className=\"form-control\"\r\n                        value={this.state.username}\r\n                        onChange={this.onChangeUsername}\r\n                        />\r\n                        {this.state.usernameError.length > 0 &&\r\n                        <div style={{color: 'red', fontWeight: 'bold', paddingBottom: '10px'}}>\r\n                            {this.state.usernameError}\r\n                        </div>\r\n                    }\r\n                    <label>Password: </label>\r\n                    <input  type=\"password\"\r\n                        style={{width: '90%'}}\r\n                        required\r\n                        className=\"form-control\"\r\n                        value={this.state.password}\r\n                        onChange={this.onChangePassword}\r\n                        />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <input type=\"submit\" value=\"Register\" className=\"btn btn-primary\" />\r\n                </div>\r\n                </form>\r\n            </div>\r\n        );      \r\n    }\r\n}\r\n\r\nexport default RegisterUser;","import React, { Component, TextareaHTMLAttributes } from 'react';\r\nimport axios from 'axios';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { UserWithErrorMessage } from '../viewModels/UserWithErrorMessage';\r\nimport * as UserActions from '../store/actions/userActions';\r\nimport Swal from 'sweetalert2'\r\nimport withReactContent from 'sweetalert2-react-content'\r\n\r\n// defines the type of the props, if any. could also pass in {}\r\ninterface IProps {\r\n\r\n}\r\n\r\n// defines the type of the state\r\ninterface LoginState {\r\n    username: string;\r\n    password: string;\r\n    users: { _id: string, username: string, password: string } [];\r\n    redirect: boolean;\r\n    wrongUsername: string;\r\n    wrongPassword: string;\r\n}\r\n\r\nclass LoginUser extends React.Component<IProps, LoginState> {\r\n    constructor(props: IProps) {\r\n        super(props);\r\n        \r\n\r\n        this.onChangeUsername = this.onChangeUsername.bind(this);\r\n        this.onChangePassword = this.onChangePassword.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    \r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            users: [],\r\n            redirect: false,\r\n            wrongUsername: '',\r\n            wrongPassword: ''\r\n        }\r\n    }\r\n\r\n    onChangeUsername(event: React.FormEvent<HTMLInputElement>) {\r\n        const target = event.target as HTMLInputElement;\r\n        this.setState({\r\n            username: target.value\r\n        });\r\n    }\r\n\r\n    onChangePassword(event: React.FormEvent<HTMLInputElement>) {\r\n        const target = event.target as HTMLInputElement;\r\n        this.setState({\r\n            password: target.value\r\n        });\r\n    }\r\n\r\n    onSubmit(event: React.FormEvent){\r\n        var path=\"\";\r\n        if(process.env.NODE_ENV === \"development\"){ path = \"http://localhost:5000\"}\r\n        event.preventDefault();\r\n        this.setState({wrongPassword: \"\", wrongUsername: \"\"});\r\n\r\n        const user = { \r\n            username: this.state.username, \r\n            password: this.state.password \r\n        }\r\n\r\n        axios.post<UserWithErrorMessage>(path+'/users/login', user)\r\n            .then(result => {\r\n                if(result.data.error !== \"\"){\r\n                    if(result.data.error.includes(\"Username\")){\r\n                        this.setState({wrongUsername: result.data.error});\r\n                    }\r\n                    if(result.data.error.includes(\"Password\")){\r\n                        this.setState({wrongPassword: result.data.error});\r\n                    }\r\n                }\r\n                else if(result.data.user === null){\r\n                    const MySwal = withReactContent(Swal);\r\n                    return MySwal.fire(<p>Login Failed</p>,<span>User was not found</span>, \"error\");\r\n                }\r\n                else{\r\n                    UserActions.setUser(result.data.user);\r\n                    localStorage.setItem('user', result.data.user?.username);\r\n                    this.setState({\r\n                        redirect: true\r\n                    });\r\n                }\r\n            })\r\n        .catch(err => console.log(err));\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"container\" style={{marginLeft: 'auto', marginRight: 'auto', width: '30%'}}>\r\n                { this.state.redirect ? (<Redirect to={{pathname: \"/\" }}/>) : null }\r\n                <h3>Sign in to Your Account</h3>\r\n                <form onSubmit={this.onSubmit}>\r\n                <div className=\"form-group\"> \r\n                    <label>Username: </label>\r\n                    <input  type=\"text\"\r\n                        style={{width: '90%'}}\r\n                        required\r\n                        className=\"form-control\"\r\n                        value={this.state.username}\r\n                        onChange={this.onChangeUsername}\r\n                        />\r\n                    {this.state.wrongUsername.length > 0 &&\r\n                        <div style={{color: 'red', fontWeight: 'bold', paddingBottom: '10px'}}>\r\n                            {this.state.wrongUsername}\r\n                        </div>\r\n                    }\r\n                    <label>Password: </label>\r\n                    <input  type=\"password\"\r\n                        style={{width: '90%'}}\r\n                        required\r\n                        className=\"form-control\"\r\n                        value={this.state.password}\r\n                        onChange={this.onChangePassword}\r\n                        />\r\n                    {this.state.wrongPassword.length > 0 &&\r\n                        <div style={{color: 'red', fontWeight: 'bold', paddingBottom: '10px'}}>\r\n                            {this.state.wrongPassword}\r\n                        </div>\r\n                    }\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <input type=\"submit\" value=\"Login\" className=\"btn btn-primary\" />\r\n                </div>\r\n                </form>\r\n            </div>\r\n        );      \r\n    }\r\n}\r\n\r\nexport default LoginUser;","import axios from 'axios';\r\nimport React from 'react';\r\nimport Swal from 'sweetalert2'\r\nimport withReactContent from 'sweetalert2-react-content'\r\n\r\n// defines the type of the props, if any. could also pass in {}\r\ninterface IProps {\r\n\r\n}\r\n\r\n// defines the type of the state\r\nclass ContactState {\r\n    firstName = \"\";\r\n    lastName = \"\";\r\n    email = \"\";\r\n    message = \"\";\r\n    status= \"\";\r\n}\r\n\r\nclass ContactUs extends React.Component<IProps, ContactState> {\r\n    constructor(props: IProps) {\r\n        super(props);\r\n\r\n        this.onChangeFirstName = this.onChangeFirstName.bind(this);\r\n        this.onChangeLastName = this.onChangeLastName.bind(this);\r\n        this.onChangeEmail = this.onChangeEmail.bind(this);\r\n        this.onChangeMessage = this.onChangeMessage.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n\r\n        this.state = {\r\n            firstName: '',\r\n            lastName: '',\r\n            email: '',\r\n            message: '',\r\n            status: \"Submit\"\r\n        }\r\n\r\n    }\r\n\r\n    onChangeFirstName(event: React.FormEvent<HTMLInputElement>) {\r\n        const target = event.target as HTMLInputElement;\r\n        this.setState({\r\n            firstName: target.value\r\n        });\r\n    }\r\n\r\n    onChangeLastName(event: React.FormEvent<HTMLInputElement>) {\r\n        const target = event.target as HTMLInputElement;\r\n        this.setState({\r\n            lastName: target.value\r\n        });\r\n    }\r\n\r\n    onChangeEmail(event: React.FormEvent<HTMLInputElement>) {\r\n        const target = event.target as HTMLInputElement;\r\n        this.setState({\r\n            email: target.value\r\n        });\r\n    }\r\n\r\n    onChangeMessage(event: React.FormEvent<HTMLTextAreaElement>) {\r\n        const target = event.target as HTMLInputElement;\r\n        this.setState({\r\n            message: target.value\r\n        });\r\n    }\r\n\r\n    onSubmit(event: React.FormEvent){\r\n        var path=\"\";\r\n        if(process.env.NODE_ENV === \"development\"){ path = \"http://localhost:5000\"}\r\n        event.preventDefault();\r\n        const MySwal = withReactContent(Swal)\r\n        this.setState({ status: \"Sending\" });  \r\n        axios({\r\n          method: \"POST\",\r\n          url: path+\"/users/contact\",\r\n          data: this.state,\r\n        }).then((response) => {\r\n          if (response.data.status === \"sent\") {\r\n            this.setState({ firstName: \"\", lastName: \"\", email: \"\", message: \"\", status: \"Submit\" });\r\n            return MySwal.fire(<p>Message Sent!</p>,<span>Thank you for your email, we look forward to hearing from you!</span>, \"success\");\r\n          } else if (response.data.status === \"failed\") {\r\n            return MySwal.fire(<p>Message Failed!</p>,<span>Uh oh! Something went wrong and we did not recieve your message</span>, \"error\");\r\n          }\r\n        });\r\n      }\r\n\r\n    render(){\r\n        let buttonText = this.state.status;\r\n        return(\r\n            <div className=\"container\">\r\n                <div className=\"title\">\r\n                    <h1 className=\"page_title\">Contact the&nbsp;</h1>\r\n                    <h1 className=\"main_title\">Map-Pin</h1>\r\n                    <h1 className=\"page_title\">&nbsp;Team</h1>\r\n                </div>\r\n                <div style={{marginTop: \"18px\"}}>\r\n                <div className=\"inner_navcontainer\">\r\n                    <div className=\"inner_contactcontainer\">\r\n                        <form onSubmit={this.onSubmit}>\r\n                            <label htmlFor=\"fname\">First Name</label>\r\n                            <input type=\"text\" \r\n                            id=\"fname\" \r\n                            name=\"firstname\" \r\n                            placeholder=\"Your first name...\"\r\n                            required\r\n                            className=\"form-control\"\r\n                            value={this.state.firstName}\r\n                            onChange={this.onChangeFirstName}></input>\r\n\r\n                            <label htmlFor=\"lname\">Last Name</label>\r\n                            <input type=\"text\" \r\n                            id=\"lname\" \r\n                            name=\"lastname\" \r\n                            placeholder=\"Your last name...\"\r\n                            required\r\n                            className=\"form-control\"\r\n                            value={this.state.lastName}\r\n                            onChange={this.onChangeLastName}></input>\r\n\r\n                            <label htmlFor=\"email\">E-mail</label>\r\n                            <input type=\"email\" \r\n                            id=\"email\" \r\n                            name=\"email\" \r\n                            placeholder=\"Your e-mail...\"\r\n                            required\r\n                            className=\"form-control\"\r\n                            value={this.state.email}\r\n                            onChange={this.onChangeEmail}></input>\r\n\r\n                            <label htmlFor=\"message\">What do you need to share?</label>\r\n                            <textarea id=\"message\" \r\n                            name=\"message\" \r\n                            placeholder=\"Write your message here...\"\r\n                            required\r\n                            className=\"form-control\"\r\n                            value={this.state.message}\r\n                            onChange={this.onChangeMessage}></textarea>\r\n\r\n                            <button type=\"submit\" style={{marginTop: \"20px\"}}>{buttonText}</button>\r\n                            \r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        );      \r\n    }\r\n}\r\n\r\nexport default ContactUs;","import React from \"react\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\nimport './App.css';\r\n\r\nimport Navbar from \"./components/navbar.component\";\r\nimport Home from \"./components/home.component\";\r\nimport RegisterUser from \"./components/register-user.component\";\r\nimport LoginUser from \"./components/login-user.component\";\r\nimport ContactUs from \"./components/contact.component\";\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <Navbar />\r\n      <br/>\r\n      <Route path=\"/\" exact component={Home} />\r\n      <Route path=\"/register\" exact component={RegisterUser} />\r\n      <Route path=\"/login\" exact component={LoginUser} />\r\n      <Route path=\"/contact\" exact component={ContactUs} />\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}